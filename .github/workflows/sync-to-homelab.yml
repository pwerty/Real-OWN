name: Sync to Homelab

on:
  push:
    branches:
      - main
    paths:
      - 'tools/**'
      - 'infrastructure/**'

jobs:
  sync:
    runs-on: self-hosted
    
    steps:
      - name: ðŸ“¥ Pull latest code to homelab
        run: |
          cd ~/Real-OWN
          echo "ðŸ”„ Fetching latest changes from GitHub..."
          git fetch origin main
          git pull origin main
          echo "âœ… Code synced successfully at $(date)"
          echo "ðŸ“¦ Updated files:"
          git log -1 --stat
